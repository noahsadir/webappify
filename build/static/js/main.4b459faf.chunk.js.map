{"version":3,"sources":["logo.svg","Requests.js","App.js","reportWebVitals.js","index.js"],"names":["JSON_RETRIEVE","jobID","args","urlValue","fetchDetails","formData","FormData","append","id","image","method","body","url","link","name","rounded","siteimg","console","log","fetch","then","promise","contentType","headers","get","indexOf","json","data","REQUEST_LISTENER","catch","error","reportError","text","type","darkTheme","createMuiTheme","palette","didFetchWebsiteData","didUploadImage","didGenerateApp","didAttemptFetchWebsiteData","didAttemptUploadImage","didAttemptGenerateApp","savedUrl","imagePath","titleValue","uniqueID","generatedAppLink","App","withStyles","theme","root","width","margin","input","borderRadius","position","border","fontSize","height","padding","transition","transitions","create","fontFamily","join","borderColor","boxShadow","InputBase","props","state","urlTextField","appTitle","didContinueToGenerate","didFinishTypingAnimation","shouldRoundCorners","isCurrentlyFetching","fetchMessage","showSnackbarMessage","snackbarMessage","snackbarSeverity","handleGoButtonClick","event","setState","callback","requestTimeout","window","setInterval","clearInterval","waitUntilRequestFinished","style","display","backgroundColor","flexFlow","flexGrow","this","animation","maxHeight","className","marginTop","color","textAlign","fontWeight","onFinishedTyping","speed","cursor","visibility","Paper","Button","onClick","variant","marginBottom","href","textDecoration","target","paddingTop","opacity","TextField","onKeyDown","key","disabled","onChange","value","IconButton","marginLeft","Icon","CircularProgress","marginRight","float","maxWidth","src","FormControlLabel","control","Switch","checked","label","files","length","waitUntilImageUploaded","waitUntilGenerateFinished","Dialog","aria-labelledby","open","DialogTitle","flex","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","Alert","severity","React","Component","success","apple_touch_icon_exists","title","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4b459faf.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","/*-------------------------------- *\n* Requests.js                      *\n* -------------------------------- *\n* Helper class which fetches data  *\n* from various souces and prepares *\n* it for processing.               *\n* -------------------------------- */\n\nimport {REQUEST_LISTENER} from './App';\nvar testMode = false;\n\n/*        pain         */\n\nexport function JSON_RETRIEVE(jobID, args){\n\n  if (testMode){\n    //Retrieve sample data if API is not available\n  }else{\n    //Make request to API for JSON\n    var urlValue = \"\";\n    var fetchDetails = {};\n\n    //Determine URL to send request to and the data to send with it.\n    if (jobID == \"UNIQUE_ID\"){\n      urlValue = \"../api/unique_id.php\";\n    }else if (jobID == \"SAVE_IMAGE\"){\n      var formData = new FormData();\n      formData.append('id', args.id);\n      formData.append('image',args.image);\n      fetchDetails = {\n        method: \"POST\",\n        body: formData,\n      };\n      urlValue = \"../api/save_image.php\";\n    }else if (jobID == \"WEBSITE_METADATA\"){\n      urlValue = \"../api/website_metadata.php?url=\" + args.url;\n    }else if (jobID == \"GENERATE_APP\"){\n      urlValue = \"../api/generate_app.php?\" + \"id=\" + args.id + \"&link=\" + args.link + \"&name=\" + args.name + \"&rounded=\" + args.rounded + \"&siteimg=\" + args.siteimg;\n    }\n\n    console.log(\"fetching data from \" + urlValue);\n    //Fetch is not as intuitive as you would think\n    fetch(urlValue,fetchDetails)\n    .then(function(promise) {\n      //Get the type of content\n      const contentType = promise.headers.get(\"content-type\");\n\n      if (contentType && contentType.indexOf(\"application/json\") !== -1) {\n\n        //Wait for promise to be fulfilled, then return valid JSON\n        return promise.json().then(data => {\n          REQUEST_LISTENER(jobID,true,data);\n        }).catch(function(error) {\n          //Notify listener that request failed with error\n          REQUEST_LISTENER(jobID,false,reportError(\"PROMISE_BROKEN\"));\n          console.log(error);\n        });\n      } else {\n\n        return promise.text().then(text => {\n          //The request worked, but the data is invalid. Should be JSON.\n          //Notify listener that request failed with error\n          REQUEST_LISTENER(jobID,false,reportError(\"NOT_JSON\"));\n\n        }).catch(function(error) {\n\n          //Notify listener that request failed with error\n          REQUEST_LISTENER(jobID,false,reportError(\"PROMISE_BROKEN\"));\n          console.log(error);\n        });\n      }\n    })\n    .catch(function(error) {\n      //Data couldn't be fetched. Probably a network or config error\n      REQUEST_LISTENER(jobID,false,reportError(\"NO_FETCH\"));\n      console.log(error);\n    });\n  }\n\n\n}\n\n//Generates somewhat nice error message\nfunction reportError(type){\n  return \"Couldn't fetch data: ERROR_\" + type;\n}\n","//@material-ui/core\n//@material-ui/lab\n//react-typing-animation\n\nimport React from \"react\";\nimport logo from './logo.svg';\nimport './App.css';\n\n\nimport { withStyles } from '@material-ui/core/styles';\nimport { Button, Snackbar, Dialog, DialogTitle, TextField, Paper, InputBase, FormGroup, FormControlLabel, Switch, IconButton, Icon, CircularProgress } from '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport Typing, {Cursor} from 'react-typing-animation';\nimport {JSON_RETRIEVE} from './Requests';\n\nconst darkTheme = createMuiTheme({ palette: { type: \"dark\"} });\n\nvar didFetchWebsiteData = false;\nvar didUploadImage = false;\nvar didGenerateApp = false;\n\nvar didAttemptFetchWebsiteData = false;\nvar didAttemptUploadImage = false;\nvar didAttemptGenerateApp = false;\n\nvar savedUrl = \"\";\nvar imagePath = \"https://www.noahsadir.io/webappify/src/api/resources/webappify_default.png\";\nvar titleValue = \"Web App\";\nvar uniqueID = \"null\";\nvar generatedAppLink = \"https://www.example.com\";\n\nconst StyledInputBase = withStyles((theme) => ({\n  root:{\n    width:\"calc(100% - 8px)\",\n    margin:8,\n  },\n  input: {\n    borderRadius: 4,\n    position: 'relative',\n    border: '1px solid rgba(255, 255, 255, 0.12)',\n    fontSize: 16,\n    height: 20,\n    padding: '13px 26px 13px 12px',\n    transition: theme.transitions.create(['border-color', 'box-shadow']),\n    // Use the system font instead of the default Roboto font.\n    fontFamily: [\n      '-apple-system',\n      'BlinkMacSystemFont',\n      '\"Segoe UI\"',\n      'Roboto',\n      '\"Helvetica Neue\"',\n      'Arial',\n      'sans-serif',\n      '\"Apple Color Emoji\"',\n      '\"Segoe UI Emoji\"',\n      '\"Segoe UI Symbol\"',\n      ].join(','),\n      '&:focus': {\n    borderRadius: 4,\n    borderColor: '#80bdff',\n    boxShadow: '0 0 0 0.2rem rgba(0,123,255,.25)',\n  },\n},\n}))(InputBase);\n\nexport default class App extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      urlTextField: \"https://\",\n      appTitle: \"Web App\",\n      didContinueToGenerate: false,\n      didFinishTypingAnimation: false,\n      shouldRoundCorners: true,\n      isCurrentlyFetching: false,\n      fetchMessage: \"Loading\",\n      showSnackbarMessage: false,\n      snackbarMessage: \"Error\",\n      snackbarSeverity: \"error\",\n    }\n  }\n\n  render(){\n    var textFieldStyle = {\n      underline:{'&:after': {border: '2px solid red'  }}\n    };\n\n    const handleUrlTextFieldChange = (event) => {\n      this.setState({urlTextField: event.target.value});\n    }\n\n    const handleTitleTextFieldChange = (event) => {\n      this.setState({appTitle: event.target.value});\n    }\n\n    const handleUrlKeyPressed = (event) => {\n      if(event.key === 'Enter'){\n        handleGoButtonClick(event);\n      }\n    }\n\n    const handleGoButtonClick = (event) => {\n      savedUrl = this.state.urlTextField;\n      this.setState({isCurrentlyFetching: true});\n      didAttemptFetchWebsiteData = false;\n      JSON_RETRIEVE(\"UNIQUE_ID\");\n      waitUntilRequestFinished(() => {\n        this.setState({isCurrentlyFetching: false});\n        if (didFetchWebsiteData){\n          this.setState({state: this.state,didContinueToGenerate: true,appTitle: titleValue});\n        }else{\n          this.setState({showSnackbarMessage: true, snackbarMessage: \"An unexpected error occurred.\", snackbarSeverity: \"error\"});\n        }\n      });\n    }\n\n    const handleInstructionsButtonClick = (event) => {\n      this.setState({showSnackbarMessage: true, snackbarMessage: \"Not implemented yet!\", snackbarSeverity: \"warning\"});\n    }\n\n    const handleCustomImageButtonClick = (event) => {\n      if (event.target.files.length > 0){\n        didAttemptUploadImage = false;\n        console.log(\"Found file \" + event.target.files[0].value);\n        this.setState({isCurrentlyFetching: true,});\n        JSON_RETRIEVE(\"SAVE_IMAGE\",{id: uniqueID, image: event.target.files[0]});\n        waitUntilImageUploaded(() => {\n          this.setState({state: this.state, isCurrentlyFetching: false});\n          if (didUploadImage){\n            //success\n          }else{\n            this.setState({showSnackbarMessage: true, snackbarMessage: \"Error uploading image.\", snackbarSeverity: \"error\"});\n          }\n        });\n      }\n    }\n\n    const handleGenerateButtonClick = (event) => {\n      if (didGenerateApp){\n        this.setState({showSnackbarMessage: true, snackbarMessage: \"An app was already generated.\", snackbarSeverity: \"warning\"});\n      }else if (!didGenerateApp && this.state.isCurrentlyFetching){\n        this.setState({showSnackbarMessage: true, snackbarMessage: \"An app is currently generating.\", snackbarSeverity: \"warning\"});\n      }else{\n        //No app has been generated yet, so do it now\n        this.setState({isCurrentlyFetching: true});\n        didAttemptGenerateApp = false;\n        JSON_RETRIEVE(\"GENERATE_APP\",{\n          id: uniqueID,\n          link: savedUrl,\n          name: this.state.appTitle,\n          rounded: this.state.shouldRoundCorners ? \"1\" : \"0\",\n          siteimg: didUploadImage ? \"false\" : \"true\",\n        });\n\n        waitUntilGenerateFinished(() =>{\n          this.setState({isCurrentlyFetching: false});\n          if (didGenerateApp){\n            //this.setState({showSnackbarMessage: true, snackbarMessage: generatedAppLink, snackbarSeverity: \"success\"});\n          }else{\n            this.setState({showSnackbarMessage: true, snackbarMessage: \"Error generating app.\", snackbarSeverity: \"error\"});\n          }\n\n        });\n      }\n    }\n\n    const handleRoundCornersSwitchChange = (event) => {\n      this.setState({shouldRoundCorners: event.target.checked});\n    }\n\n    return (\n      <div id=\"main-content\" style={{display:\"flex\",backgroundColor: \"#111115\",height:\"100%\",width:\"100%\",position:\"fixed\",flexFlow:\"column\"}}>\n        <div style={{flexGrow: (this.state.didContinueToGenerate ? 0 : 1),animation:(this.state.didContinueToGenerate ? \"flexToZero 1s\" : \"\")}}>\n        </div>\n        <div style={{flexGrow: 1,maxHeight:128}}>\n          <p className=\"dynamicWebappifyTitle\" style={{margin: 0,marginTop:32,color:\"#ffffff\",fontFamily:'monospace',textAlign:\"center\",fontWeight:300}}>\n            <span style={{color:\"#3f51b5\",display:\"inline\"}}>{\"<\"}</span>\n            <Typing onFinishedTyping={() => {this.setState({didFinishTypingAnimation: true})}} speed={75} className=\"inline\" cursor={<Cursor className=\"cursor\"/>}>\n              <span>webappify</span>\n            </Typing>\n            <span style={{color:\"#3f51b5\",display:\"inline\"}}>{\"/>\"}</span>\n          </p>\n        </div>\n        <div style={{visibility: \"hidden\",height:0.01,display: (didGenerateApp ? \"flex\" : \"none\"),animation: (didGenerateApp ? \"displayAndFadeToVisible 1s forwards 1.5s\" : \"\")}}>\n          <div style={{flexGrow: 1}}></div>\n          <Paper style={{flexGrow: 4,margin: 16,padding:8, color: \"#ffffff\"}}>\n            <p style={{width:\"100%\",textAlign:\"center\",fontSize:20,fontWeight:500}}>Your web app was created successfully!</p>\n            <div style={{width:\"100%\",display:\"flex\"}}>\n              <div style={{flexGrow: 1}}></div>\n              <Button onClick={handleInstructionsButtonClick} variant=\"contained\" color=\"primary\" style={{flexGrow: 1, marginTop:8, marginBottom: 8}}>How to Install</Button>\n              <div style={{flexGrow: 1}}></div>\n            </div>\n            <p style={{width:\"100%\",textAlign:\"center\",fontSize:16}}>Alternatively, you can click or copy & paste the link below:</p>\n            <p style={{width:\"100%\",textAlign:\"center\"}}><a href={generatedAppLink} style={{fontSize:16, color:\"#6f83dd\",textDecoration:\"none\"}} target=\"_blank\">{generatedAppLink}</a></p>\n          </Paper>\n          <div style={{flexGrow: 1}}></div>\n        </div>\n        <div style={{flexGrow: 1,display:\"flex\",maxHeight:96}}>\n          <div style={{flexGrow: 1}}></div>\n          <div style={{flexGrow: 2, paddingTop: (this.state.didFinishTypingAnimation ? 0 : 64),opacity: (didGenerateApp ? 1 : 0),animation: (this.state.didFinishTypingAnimation ? (didGenerateApp ? \"fadeToHidden 1s forwards 0.5s\" : \"fadeToVisible 1s forwards 0.5s\") : \"\")}}>\n            <MuiThemeProvider theme={darkTheme}>\n              <TextField onKeyDown={handleUrlKeyPressed} variant=\"outlined\" disabled={this.state.didContinueToGenerate} onChange={handleUrlTextFieldChange} style={{color:\"#ffffff\",width:\"100%\"}} value={this.state.urlTextField}></TextField>\n              <IconButton onClick={handleGoButtonClick} variant=\"outlined\" color=\"background\" style={{flexGrow: 1,width:64,height:64,marginLeft:-64,position:\"absolute\", display: (this.state.didContinueToGenerate || this.state.isCurrentlyFetching ? \"none\" : \"inline-flex\")}}>\n                <Icon style={{fontSize: 24, color:\"#ffffff !important\"}}>arrow_forward</Icon>\n              </IconButton>\n              <CircularProgress color=\"background\" style={{flexGrow: 1,width:32,height:32,padding:16,marginLeft:-64,position:\"absolute\",display: ((!this.state.didContinueToGenerate && this.state.isCurrentlyFetching) ? \"inline-flex\" : \"none\")}}/>\n            </MuiThemeProvider>\n          </div>\n          <div style={{flexGrow: 1}}></div>\n        </div>\n        <div style={{display:\"flex\",flexFlow:\"column\",animation:\"flexTo4 3s\",animation: (this.state.didContinueToGenerate ? (didGenerateApp ? \"fadeToHidden 1s forwards 0.5s\" : \"flexToFour 1s\") : \"\"),flex: (this.state.didContinueToGenerate ? \"4\" : \"2\") + \" 0 auto\",visibility: (this.state.didContinueToGenerate ? \"visible\" : \"hidden\")}}>\n          <div style={{display: \"flex\", flexGrow: 1}}>\n            <div style={{flexGrow: 1}}></div>\n            <Paper style={{display:\"flex\",flexGrow: 2,height:\"fit-content\",backgroundColor:\"#222225 !important\"}}>\n              <div style={{flexGrow: 2,marginRight:16,display:\"flex\"}}>\n                <div style={{flexGrow: 1,width:0,height:\"fit-content\",marginRight:16}}>\n                  <img style={{borderRadius: (this.state.shouldRoundCorners ? \"12.5%\" : \"0%\"),float:\"left\",maxWidth:\"100%\"}} src={imagePath}/>\n                </div>\n              </div>\n              <div style={{flexGrow: 2}}>\n                <MuiThemeProvider theme={darkTheme}>\n                  <div style={{display:\"flex\"}}>\n                    <div style={{flexGrow: 1}}></div>\n                    <TextField onChange={handleTitleTextFieldChange} style={{flexGrow: 2,color:\"#ffffff\",width:\"100%\"}} value={this.state.appTitle}></TextField>\n                    <div style={{flexGrow: 1}}></div>\n                  </div>\n                  <FormControlLabel\n                    style={{marginTop:16}}\n                    control={<Switch checked={this.state.shouldRoundCorners} onChange={handleRoundCornersSwitchChange} name=\"roundCornersSwitch\" color=\"primary\"/>}\n                    label={<span style={{color:\"#ffffff\"}}>Round corners</span>}>\n                  </FormControlLabel>\n                  <div style={{width:\"100%\"}}>\n                    <Button variant=\"outlined\" color=\"background\" style={{width:\"100%\",marginTop:16}}>Custom Image<input onChange={handleCustomImageButtonClick} type=\"file\" style={{position:\"absolute\",width:\"100%\",height:\"100%\",opacity:0}}/></Button>\n                  </div>\n                  <div style={{width:\"100%\"}}>\n                    <Button onClick={handleGenerateButtonClick} variant=\"contained\" color=\"primary\" style={{width:\"100%\",height:48,marginTop:16}}>Generate</Button>\n                  </div>\n                </MuiThemeProvider>\n              </div>\n            </Paper>\n            <div style={{flexGrow: 1}}></div>\n          </div>\n        </div>\n        <Dialog aria-labelledby=\"simple-dialog-title\" open={this.state.didContinueToGenerate && this.state.isCurrentlyFetching}>\n          <div style={{display:\"flex\"}}>\n            <DialogTitle style={{flex:\"1 0 auto\",color:\"#ffffff\"}} id=\"simple-dialog-title\">{this.state.fetchMessage}</DialogTitle>\n            <CircularProgress style={{flex: \"1 0 auto\", padding: 16, width:32,height:32}}/>\n          </div>\n        </Dialog>\n        <MuiThemeProvider theme={darkTheme}>\n          <Snackbar anchorOrigin={{ vertical: 'top', horizontal: 'center' }}  open={this.state.showSnackbarMessage} autoHideDuration={6000} onClose={() => {this.setState({showSnackbarMessage: false})}}>\n            <Alert onClose={() => {this.setState({showSnackbarMessage: false})}} severity={this.state.snackbarSeverity}>\n              {this.state.snackbarMessage}\n            </Alert>\n          </Snackbar>\n        </MuiThemeProvider>\n      </div>\n    );\n  }\n}\n\nclass WebAppGenerator extends React.Component {\n\n}\n\nfunction waitUntilGenerateFinished(callback){\n  var requestTimeout = window.setInterval(() => {\n    if (didAttemptGenerateApp){\n      callback();\n      window.clearInterval(requestTimeout);\n    }\n  }, 500);\n}\n\nfunction waitUntilRequestFinished(callback){\n  var requestTimeout = window.setInterval(() => {\n    if (didAttemptFetchWebsiteData){\n      callback();\n      window.clearInterval(requestTimeout);\n    }\n  }, 500);\n}\n\nfunction waitUntilImageUploaded(callback){\n  var requestTimeout = window.setInterval(() => {\n    if (didAttemptUploadImage){\n      callback();\n      window.clearInterval(requestTimeout);\n    }\n  }, 500);\n}\n\nexport function REQUEST_LISTENER(type, success, data){\n  console.log(\"Request \" + type + \" was \" + (success ? \"successful\" : \"unsuccessful\") + \" and returned data:\");\n  console.log(data);\n\n  if (type == \"UNIQUE_ID\"){\n    if (data.id != null){\n      uniqueID = data.id;\n    }\n    JSON_RETRIEVE(\"WEBSITE_METADATA\",{url: savedUrl});\n  }else if (type == \"WEBSITE_METADATA\"){\n    if (success){\n      if (data.apple_touch_icon_exists == true){\n        imagePath = savedUrl + \"/apple-touch-icon.png\";\n      }else{\n        imagePath = \"../api/resources/webappify_default.png\";\n      }\n      if (data.title != null){\n        titleValue = data.title;\n      }else{\n        titleValue = \"Web App\";\n      }\n    }\n    didFetchWebsiteData = true;\n    didAttemptFetchWebsiteData = true;\n  }else if (type == \"SAVE_IMAGE\"){\n    if (success){\n      if (data.success == true){\n        imagePath = \"../api/tmp/\" + uniqueID + \".png\";\n        didUploadImage = true;\n      }\n    }\n    didAttemptUploadImage = true;\n  }else if (type == \"GENERATE_APP\"){\n    if (success){\n      if (data.success == true){\n        generatedAppLink = data.link;\n        didGenerateApp = true;\n      }\n    }\n    didAttemptGenerateApp = true;\n  }\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}