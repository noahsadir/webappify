(this.webpackJsonpwebappify=this.webpackJsonpwebappify||[]).push([[0],{117:function(e,t,i){"use strict";i.r(t);var n=i(0),s=i.n(n),a=i(10),o=i.n(a),r=(i(90),i(44)),l=i(49),c=i(65),d=i(52),h=i(51),f=(i.p,i(91),i(4)),p=i(162),u=i(148),b=i(149),g=i(157),j=i(152),x=i(153),y=i(154),w=i(155),O=i(163),m=i(160),v=i(156),S=i(161),T=i(159),C=i(71),k=i(150),G=i(50),E=i.n(G);function A(e,t){var i="",n={};if("UNIQUE_ID"==e)i="../api/unique_id.php";else if("SAVE_IMAGE"==e){var s=new FormData;s.append("id",t.id),s.append("image",t.image),n={method:"POST",body:s},i="../api/save_image.php"}else"WEBSITE_METADATA"==e?i="../api/website_metadata.php?url="+t.url:"GENERATE_APP"==e&&(i="../api/generate_app.php?id="+t.id+"&link="+t.link+"&name="+t.name+"&rounded="+t.rounded+"&siteimg="+t.siteimg);console.log("fetching data from "+i),fetch(i,n).then((function(t){var i=t.headers.get("content-type");return i&&-1!==i.indexOf("application/json")?t.json().then((function(t){J(e,!0,t)})).catch((function(t){J(e,!1,F("PROMISE_BROKEN")),console.log(t)})):t.text().then((function(t){J(e,!1,F("NOT_JSON"))})).catch((function(t){J(e,!1,F("PROMISE_BROKEN")),console.log(t)}))})).catch((function(t){J(e,!1,F("NO_FETCH")),console.log(t)}))}function F(e){return"Couldn't fetch data: ERROR_"+e}var M=i(5),_=Object(C.a)({palette:{type:"dark"}}),I=!1,R=!1,N=!1,D=!1,P=!1,W=!1,B="",U="https://www.noahsadir.io/webappify/src/api/resources/webappify_default.png",H="Web App",z="null",L="https://www.example.com",V=(Object(f.a)((function(e){return{root:{width:"calc(100% - 8px)",margin:8},input:{borderRadius:4,position:"relative",border:"1px solid rgba(255, 255, 255, 0.12)",fontSize:16,height:20,padding:"13px 26px 13px 12px",transition:e.transitions.create(["border-color","box-shadow"]),fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),"&:focus":{borderRadius:4,borderColor:"#80bdff",boxShadow:"0 0 0 0.2rem rgba(0,123,255,.25)"}}}}))(p.a),function(e){Object(d.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(l.a)(this,i),(n=t.call(this,e)).state={urlTextField:"https://",appTitle:"Web App",didContinueToGenerate:!1,didFinishTypingAnimation:!1,shouldRoundCorners:!0,isCurrentlyFetching:!1,fetchMessage:"Loading",showSnackbarMessage:!1,snackbarMessage:"Error",snackbarSeverity:"error"},n}return Object(c.a)(i,[{key:"render",value:function(){var e,t=this,i=function(e){B=t.state.urlTextField,t.setState({isCurrentlyFetching:!0}),D=!1,A("UNIQUE_ID"),function(e){var t=window.setInterval((function(){D&&(e(),window.clearInterval(t))}),500)}((function(){t.setState({isCurrentlyFetching:!1}),I?t.setState({state:t.state,didContinueToGenerate:!0,appTitle:H}):t.setState({showSnackbarMessage:!0,snackbarMessage:"An unexpected error occurred.",snackbarSeverity:"error"})}))};return Object(M.jsxs)("div",{id:"main-content",style:{display:"flex",backgroundColor:"#111115",height:"100%",width:"100%",position:"fixed",flexFlow:"column"},children:[Object(M.jsx)("div",{style:{flexGrow:this.state.didContinueToGenerate?0:1,animation:this.state.didContinueToGenerate?"flexToZero 1s":""}}),Object(M.jsx)("div",{style:{flexGrow:1,maxHeight:128},children:Object(M.jsxs)("p",{className:"dynamicWebappifyTitle",style:{margin:0,marginTop:32,color:"#ffffff",fontFamily:"monospace",textAlign:"center",fontWeight:300},children:[Object(M.jsx)("span",{style:{color:"#3f51b5",display:"inline"},children:"<"}),Object(M.jsx)(E.a,{onFinishedTyping:function(){t.setState({didFinishTypingAnimation:!0})},speed:75,className:"inline",cursor:Object(M.jsx)(G.Cursor,{className:"cursor"}),children:Object(M.jsx)("span",{children:"webappify"})}),Object(M.jsx)("span",{style:{color:"#3f51b5",display:"inline"},children:"/>"})]})}),Object(M.jsxs)("div",{style:{visibility:"hidden",height:.01,display:N?"flex":"none",animation:N?"displayAndFadeToVisible 1s forwards 1.5s":""},children:[Object(M.jsx)("div",{style:{flexGrow:1}}),Object(M.jsxs)(u.a,{style:{flexGrow:4,margin:16,padding:8,color:"#ffffff"},children:[Object(M.jsx)("p",{style:{width:"100%",textAlign:"center",fontSize:20,fontWeight:500},children:"Your web app was created successfully!"}),Object(M.jsxs)("div",{style:{width:"100%",display:"flex"},children:[Object(M.jsx)("div",{style:{flexGrow:1}}),Object(M.jsx)(b.a,{onClick:function(e){t.setState({showSnackbarMessage:!0,snackbarMessage:"Not implemented yet!",snackbarSeverity:"warning"})},variant:"contained",color:"primary",style:{flexGrow:1,marginTop:8,marginBottom:8},children:"How to Install"}),Object(M.jsx)("div",{style:{flexGrow:1}})]}),Object(M.jsx)("p",{style:{width:"100%",textAlign:"center",fontSize:16},children:"Alternatively, you can click or copy & paste the link below:"}),Object(M.jsx)("p",{style:{width:"100%",textAlign:"center"},children:Object(M.jsx)("a",{href:L,style:{fontSize:16,color:"#6f83dd",textDecoration:"none"},target:"_blank",children:L})})]}),Object(M.jsx)("div",{style:{flexGrow:1}})]}),Object(M.jsxs)("div",{style:{flexGrow:1,display:"flex",maxHeight:96},children:[Object(M.jsx)("div",{style:{flexGrow:1}}),Object(M.jsx)("div",{style:{flexGrow:2,paddingTop:this.state.didFinishTypingAnimation?0:64,opacity:N?1:0,animation:this.state.didFinishTypingAnimation?N?"fadeToHidden 1s forwards 0.5s":"fadeToVisible 1s forwards 0.5s":""},children:Object(M.jsxs)(k.a,{theme:_,children:[Object(M.jsx)(g.a,{onKeyDown:function(e){"Enter"===e.key&&i(e)},variant:"outlined",disabled:this.state.didContinueToGenerate,onChange:function(e){t.setState({urlTextField:e.target.value})},style:{color:"#ffffff",width:"100%"},value:this.state.urlTextField}),Object(M.jsx)(j.a,{onClick:i,variant:"outlined",color:"background",style:{flexGrow:1,width:64,height:64,marginLeft:-64,position:"absolute",display:this.state.didContinueToGenerate||this.state.isCurrentlyFetching?"none":"inline-flex"},children:Object(M.jsx)(x.a,{style:{fontSize:24,color:"#ffffff !important"},children:"arrow_forward"})}),Object(M.jsx)(y.a,{color:"background",style:{flexGrow:1,width:32,height:32,padding:16,marginLeft:-64,position:"absolute",display:!this.state.didContinueToGenerate&&this.state.isCurrentlyFetching?"inline-flex":"none"}})]})}),Object(M.jsx)("div",{style:{flexGrow:1}})]}),Object(M.jsx)("div",{style:(e={display:"flex",flexFlow:"column",animation:"flexTo4 3s"},Object(r.a)(e,"animation",this.state.didContinueToGenerate?N?"fadeToHidden 1s forwards 0.5s":"flexToFour 1s":""),Object(r.a)(e,"flex",(this.state.didContinueToGenerate?"4":"2")+" 0 auto"),Object(r.a)(e,"visibility",this.state.didContinueToGenerate?"visible":"hidden"),e),children:Object(M.jsxs)("div",{style:{display:"flex",flexGrow:1},children:[Object(M.jsx)("div",{style:{flexGrow:1}}),Object(M.jsxs)(u.a,{style:{display:"flex",flexGrow:2,height:"fit-content",backgroundColor:"#222225 !important"},children:[Object(M.jsx)("div",{style:{flexGrow:2,marginRight:16,display:"flex"},children:Object(M.jsx)("div",{style:{flexGrow:1,width:0,height:"fit-content",marginRight:16},children:Object(M.jsx)("img",{style:{borderRadius:this.state.shouldRoundCorners?"12.5%":"0%",float:"left",maxWidth:"100%"},src:U})})}),Object(M.jsx)("div",{style:{flexGrow:2},children:Object(M.jsxs)(k.a,{theme:_,children:[Object(M.jsxs)("div",{style:{display:"flex"},children:[Object(M.jsx)("div",{style:{flexGrow:1}}),Object(M.jsx)(g.a,{onChange:function(e){t.setState({appTitle:e.target.value})},style:{flexGrow:2,color:"#ffffff",width:"100%"},value:this.state.appTitle}),Object(M.jsx)("div",{style:{flexGrow:1}})]}),Object(M.jsx)(w.a,{style:{marginTop:16},control:Object(M.jsx)(O.a,{checked:this.state.shouldRoundCorners,onChange:function(e){t.setState({shouldRoundCorners:e.target.checked})},name:"roundCornersSwitch",color:"primary"}),label:Object(M.jsx)("span",{style:{color:"#ffffff"},children:"Round corners"})}),Object(M.jsx)("div",{style:{width:"100%"},children:Object(M.jsxs)(b.a,{variant:"outlined",color:"background",style:{width:"100%",marginTop:16},children:["Custom Image",Object(M.jsx)("input",{onChange:function(e){e.target.files.length>0&&(P=!1,console.log("Found file "+e.target.files[0].value),t.setState({isCurrentlyFetching:!0}),A("SAVE_IMAGE",{id:z,image:e.target.files[0]}),function(e){var t=window.setInterval((function(){P&&(e(),window.clearInterval(t))}),500)}((function(){t.setState({state:t.state,isCurrentlyFetching:!1}),R||t.setState({showSnackbarMessage:!0,snackbarMessage:"Error uploading image.",snackbarSeverity:"error"})})))},type:"file",style:{position:"absolute",width:"100%",height:"100%",opacity:0}})]})}),Object(M.jsx)("div",{style:{width:"100%"},children:Object(M.jsx)(b.a,{onClick:function(e){N?t.setState({showSnackbarMessage:!0,snackbarMessage:"An app was already generated.",snackbarSeverity:"warning"}):!N&&t.state.isCurrentlyFetching?t.setState({showSnackbarMessage:!0,snackbarMessage:"An app is currently generating.",snackbarSeverity:"warning"}):(t.setState({isCurrentlyFetching:!0}),W=!1,A("GENERATE_APP",{id:z,link:B,name:t.state.appTitle,rounded:t.state.shouldRoundCorners?"1":"0",siteimg:R?"false":"true"}),function(e){var t=window.setInterval((function(){W&&(e(),window.clearInterval(t))}),500)}((function(){t.setState({isCurrentlyFetching:!1}),N||t.setState({showSnackbarMessage:!0,snackbarMessage:"Error generating app.",snackbarSeverity:"error"})})))},variant:"contained",color:"primary",style:{width:"100%",height:48,marginTop:16},children:"Generate"})})]})})]}),Object(M.jsx)("div",{style:{flexGrow:1}})]})}),Object(M.jsx)(m.a,{"aria-labelledby":"simple-dialog-title",open:this.state.didContinueToGenerate&&this.state.isCurrentlyFetching,children:Object(M.jsxs)("div",{style:{display:"flex"},children:[Object(M.jsx)(v.a,{style:{flex:"1 0 auto",color:"#ffffff"},id:"simple-dialog-title",children:this.state.fetchMessage}),Object(M.jsx)(y.a,{style:{flex:"1 0 auto",padding:16,width:32,height:32}})]})}),Object(M.jsx)(k.a,{theme:_,children:Object(M.jsx)(S.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:this.state.showSnackbarMessage,autoHideDuration:6e3,onClose:function(){t.setState({showSnackbarMessage:!1})},children:Object(M.jsx)(T.a,{onClose:function(){t.setState({showSnackbarMessage:!1})},severity:this.state.snackbarSeverity,children:this.state.snackbarMessage})})})]})}}]),i}(s.a.Component));s.a.Component;function J(e,t,i){console.log("Request "+e+" was "+(t?"successful":"unsuccessful")+" and returned data:"),console.log(i),"UNIQUE_ID"==e?(null!=i.id&&(z=i.id),A("WEBSITE_METADATA",{url:B})):"WEBSITE_METADATA"==e?(t&&(U=1==i.apple_touch_icon_exists?B+"/apple-touch-icon.png":"../api/resources/webappify_default.png",H=null!=i.title?i.title:"Web App"),I=!0,D=!0):"SAVE_IMAGE"==e?(t&&1==i.success&&(U="../api/tmp/"+z+".png",R=!0),P=!0):"GENERATE_APP"==e&&(t&&1==i.success&&(L=i.link,N=!0),W=!0)}var K=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,164)).then((function(t){var i=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,o=t.getTTFB;i(e),n(e),s(e),a(e),o(e)}))};o.a.render(Object(M.jsx)(s.a.StrictMode,{children:Object(M.jsx)(V,{})}),document.getElementById("root")),K()},90:function(e,t,i){},91:function(e,t,i){}},[[117,1,2]]]);
//# sourceMappingURL=main.4b459faf.chunk.js.map